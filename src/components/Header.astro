---
import Logo from './header/Logo.astro';
import NavigationMenu from './header/NavigationMenu.astro';
import MobileMenuToggle from './header/MobileMenuToggle.astro';
import SocialLinks from './SocialLinks.astro';
import Search from './Search.astro';
---

<header
  class='header'
  x-data=`{
      toggle() {
        this.isOpen = !this.isOpen;
        document.body.style.overflow = this.isOpen ? "hidden" : "";
      },
      dark: window.matchMedia("(prefers-color-scheme: dark)").matches,
      isOpen: false,
      width: 1920
    }`
  x-init='width = window.innerWidth'
  x-on:resize.window='width = window.innerWidth'
>
  <nav class='nav'>
    <Logo />
    <Search />
    <MobileMenuToggle />
    <NavigationMenu />
    <div class='nav__social-links'>
      <SocialLinks />
    </div>
  </nav>
</header>

<style>
  .header {
    margin: 0;
    padding: 0 1em;
    background: rgb(var(--white));
    box-shadow: 0 2px 8px rgba(var(--black), 5%);
    display: flex;
    justify-content: center;
  }

  .nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 1200px;
  }

  .nav__social-links {
    display: flex;
    gap: 16px;
  }

  @media (max-width: 1024px) {
    .nav__social-links {
      display: none;
    }
  }

  @media (prefers-color-scheme: dark) {
    .header {
      background-color: rgb(var(--gray-dark));
    }
  }
</style>
